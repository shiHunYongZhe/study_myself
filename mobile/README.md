手机屏幕尺寸不一，做移动端的web页面开发，需要考虑在不同的设备、不同的系统上做兼容性。本文参考现有常用适配方案，以网易和淘宝为例，总结一下针对移动端设备的页面，前端怎样做能更好地适配不同屏幕大小的移动设备。
# 适配的目标
适配目标引用一个文章的描述：    
    
**在不同尺寸的手机设备上，页面“相对性的达到合理的展示（自适应）”或者“保持统一效果的等比缩放（看起来差不多）”。**
# 适配原则
我们主要遵循一种典型的弹性布局：关键元素高宽和位置都不变，只有容器元素在做伸缩变换。记住一个开发原则就好：    
    
**文字流式，控件弹性，图片等比缩放。**      

# 相关概念
## 物理像素(physical pixel)
物理像素又被称为设备像素，他是显示设备中一个最微小的物理部件。每个像素可以根据操作系统设置自己的颜色和亮度。所谓的一倍屏、二倍屏(Retina)、三倍屏，指的是设备以多少物理像素来显示一个CSS像素，也就是说，多倍屏以更多更精细的物理像素点来显示一个CSS像素点，在普通屏幕下1个CSS像素对应1个物理像素，而在Retina屏幕下，1个CSS像素对应的却是4个物理像素。
## CSS像素
CSS像素是一个抽像的单位，主要使用在浏览器上，用来精确度量Web页面上的内容。一般情况之下，CSS像素称为与设备无关的像素(device-independent pixel)，简称DIPs。CSS像素顾名思义就是我们写CSS时所用的像素。
## 设备像素比dpr(device pixel ratio)
设备像素比简称为dpr，其定义了物理像素和设备独立像素的对应关系。它的值可以按下面的公式计算得到：
```
设备像素比 ＝ 物理像素 / 设备独立像素
```
在Retina屏的iphone上，devicePixelRatio的值为2，也就是说1个css像素相当于2个物理像素。通常所说的二倍屏(retina)的dpr是2, 三倍屏是3。
## viewport视口
移动设备上的viewport就是设备的屏幕上能用来显示我们的网页的那一块区域，再具体一点，就是浏览器上(也可能是一个app中的webview)用来显示网页的那部分区域。    
## 网页用于移动端常见代码
```
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
```
# 适配方式
除了font-size之外（字体基本上不做屏幕适配，保证小屏可以看到适当大小的文字，大屏可以看到更多的文字），一般的css尺寸，我们使用rem作为单位。使用rem布局结合在html上根据不同分辨率设置不同font-size有很多不好解决的麻烦。   
    
我们的解决办法是，页面上html的font-size不是预先通过媒介查询在css里定义好的，而是通过js计算出来的，所以当分辨率发生变化时，html的font-size就会变，不过这得在你调整分辨率后，刷新页面才能看得到效果。    
    
我们以iphone6的横向分辨率750设计稿为例，看如何使用rem来做屏幕适配：
1. 先拿设计稿竖着的横向分辨率除以100得到body元素的宽度：

```
横向分辨率为750，body的width为750 / 100 = 7.5rem
```

2. 布局时，设计图标注的尺寸除以100得到css中的尺寸。例如550px的高度，css对应内容为：height: 5.5rem。
3. 在dom ready以后，通过以下代码设置html的font-size：

```
document.documentElement.style.fontSize = document.documentElement.clientWidth / 7.5 + 'px';
```

